@use "start" as *;
@use "backend" as *;
/* Begin Misc */

// Background
#{c(main appMount)} {
  background: transparent;
	@include bg;
	&:before {
		height: 100%;
		width: 100%;
		background: var(--background-image) center/cover no-repeat var(--background-attachment);
	}
}

// Transparency to allow the background to work.
body,
#{c(main appInner)},
#{c(main bg)} {
  background: transparent;
}

// Backdrop blur
#{c(main backdrop)},
#{c(main backdropWithLayer)} {
  background-color: transparent !important; // !important usage: element.style
  backdrop-filter: blur(3px);
}
#{c(main backdropWithLayer)} {
  z-index: -1000;
}
#{c(os titleBar)} {
  z-index: 1100;
}

// defaults:
// Windows
// .platform-win .splashBackground-1FRCko:before{content:"";position:fixed;top:0;right:0;width:84px;height:22px;background:rgba(0,0,0,.3);border-bottom-left-radius:3px;z-index:1;-webkit-transition:background .4s ease .4s;transition:background .4s ease .4s}
// .platform-win .theme-dark .splashBackground-1FRCko.loggingIn-3Hi-BU:before,
// .platform-win .theme-light .splashBackground-1FRCko.loggingIn-3Hi-BU:before{background:transparent}
// .platform-win .scroller-2TZvBN {padding-top: 4px;}
// .platform-win .standardSidebarView-3F1I7i{top:22px}
// .platform-win .sidebar-2K8pFh{border-radius:8px 0 0;overflow:hidden}
// .sidebar-2K8pFh.hasNotice-1XRy4h,
// .platform-win .sidebar-2K8pFh.hasNotice-1XRy4h{border-radius:0}
// .platform-win .layer-3QrUeG{top:-22px;padding-top:22px}
// .platform-win .bg-h5JY_x{top:-22px}
// .platform-win .videoHeight-Qp_9vC.normal-1jW0uq{height:calc(50vh - 22px)}
// .platform-win .videoHeight-Qp_9vC.noChat-3nt48u{height:calc(100vh - 22px)}
// .platform-win .container-16j22k{padding-top:22px;top:-22px}

// MacOS
// .platform-osx .splashBackground-1FRCko:before{content:"";position:fixed;top:0;left:0;right:0;height:32px;z-index:1;-webkit-app-region:drag}
// @media (min-width:830px){
// .splashBackground-1FRCko .logo-1-AbdC{position:fixed;top:24px;left:24px;margin:0}
// .platform-osx .splashBackground-1FRCko .logo-1-AbdC{top:40px}
// }
// .platform-osx .container-1r6BKw{-webkit-app-region:drag}
// .platform-osx .notice-2FJMB4{-webkit-app-region:drag}
// .platform-osx .standardSidebarView-3F1I7i:before{content:"";position:fixed;top:0;left:0;right:0;height:22px;z-index:10;-webkit-app-region:drag}
// .platform-osx .pageHeaderDrag-OPlmbm{-webkit-app-region:drag}
// .platform-osx .wrapper-1Rf91z{margin-top:32px}
// .platform-osx .scroller-2TZvBN{padding-top:0}

// Windows
#{c(os windows)} {
  #{c(os typeWindows)} {
    padding-top: 0;
    margin-top: 0;
    height: 0;
    @include bg;
    &:before {
      -webkit-app-region: drag;
      height: 12px;
    }
    & > #{c(os wordmark)} {
      color: $primary;
      position: relative;
      top: 4px;
      margin-right: auto;
      order: 1;
      display: flex;
      & > svg {
        filter: drop-shadow(3px 3px 1px $secondary);
      }
      &:before,
      &:after {
        order: 1;
        white-space: nowrap;
        color: $button-text;
        position: relative;
        right: 60px;
        top: 20px;
      }
      &:before {
        content: $theme-name;
        font-size: 14px;
        margin-left: 4px;
        font-style: italic;
      }
      &:after {
        content: $version;
        font-size: 10px;
        margin-left: 2px;
        font-family: Zapfino, Segoe Script, serif; // Zapfino is here despite it being a Mac font. It's because I like it. That's it.
      }
    }
  }
  #{c(sidebar sidebar)} {
    border-radius: 0;
  }
  #{c(serverList servers)} {
    top: 48px;
  }
  #{c(main container)} {
    @include bg;
    &:before {
      z-index: 1050;
      background-color: $header;
      width: 72px;
      height: 48px;
    }
  }
  #{c(header toolbar)} {
    position: relative;
    right: 72px;
  }
  #{c(os winButton)} {
    position: relative;
    top: 0;
    height: 48px;
  }
}
// Mac
#{c(os mac)} {
  #{c(os typeMac)} {
    background-color: $header;
    @debug "do MacOS stuff, future me!";
    // padding-top: 4px;
    // margin-top: 0;
  }
}
// Linux / Web
#{c(os mac)},
#{c(os linux)},
#{c(os web)} {
  #{c(serverList homeContainer)} {
    &+#{c(serverList listItem)} {
      &:before {
        content: $theme-name-short;
        color: rgba(255,255,255,0.75);
        font-size: 11px;
        text-align: center;
        white-space: nowrap;
        position: absolute;
      }
      > #{c(serverList serverSeparator)} {
        margin-top: 12px;
      }
    }
  }
}


// EGGS!
#{c(store store)} {
   #{c(store scroller)} {
    > #{c(store nitroContainer)} {
      >div {
        display: none;
      }
      &:before {
        content: "You're not meant to see this.";
        display: block;
        font-size: 30px;
        color: #fff;
        text-decoration: underline;
        text-shadow: 2px 2px 2px #aaa;
        text-align: center;
      }
      &:after {
        content: "If you *need* this, go into your user settings.";
        display: block;
        font-size: 20px;
        color: $button-text;
        text-align: center;
        margin-top: 10px;
      }
    }
  }
}
